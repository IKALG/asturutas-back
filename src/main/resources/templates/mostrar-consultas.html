<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/springsecurity5">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<!-- <link rel="stylesheet" href="css/carrusel.css"> -->
	<link rel="shortcut icon" type="image/png" href="/imagenes/logo.png"><a href="index.html"></a>
	<script src="/js/jquery-3.7.1.js"></script>
	<script src="/js/script.js"></script>
	<title>Todas las rutas</title>
	<style>
		.consulta-container {
			max-height: 500px;
			overflow: auto;
			background-color: #343a40;
			padding: 1rem;
			border-radius: .25rem;
			margin-bottom: 1.5rem;
		}

		.consulta-heading {
			margin-bottom: 1rem;
		}

		.consulta-heading span {
			margin-right: 1rem;
		}

		.consulta-info {
			margin-bottom: 1rem;
		}
	</style>
</head>

<body class="bg-dark">
	<header class="p-3 text-bg-primary mt-2">
		<section class="container">
			<section class="row align-items-center justify-content-between">
				<!-- Logo y Menú -->
				<section class="col-lg-auto d-flex align-items-center">
					<a href="/" class="text-decoration-none me-3">
						<img src="/imagenes/logo.png" alt="Logo" width="50" height="auto">
					</a>
					<section class="text-end" th:if="${user == 'admin'}">
						<button type="button" id="mostrarRutas" name="mostrarRutas"
							class="btn btn-outline-light me-2">Mostrar todas
							las rutas
						</button>
						<button type="button" id="mostrarConsultas" name="mostrarConsultas"
							class="btn btn-outline-light me-2">Mostrar
							las consultas
						</button>
						<button type="button" id="mostrarUsuarios" name="mostrarUsuarios"
							class="btn btn-outline-light me-2">Mostrar
							los usuarios
						</button>
						<button type="button" id="logout" name="logout" class="btn btn-warning">Cerrar sesión</button>
					</section>
				</section>

			</section>
		</section>
	</header>

	<section class="container mt-4 mb-4">
		<div class="table-responsive">
			<div th:each="consulta : ${consultas}" class="consulta-container">
				<h2 class="text-white fw-bold consulta-heading">Consulta</h2>
				<div class="consulta-info text-white">
					<span><strong>Correo:</strong> <span th:text="${consulta.correo}">Correo</span></span>
					<br>
					<span><strong>Mensaje:</strong> <span th:text="${consulta.mensaje}">Mensaje</span></span>
					<br>
					<!-- Campo para indicar si la consulta ha sido leída -->
					<div class="form-check">
						<input class="form-check-input" type="checkbox" th:checked="${consulta.leido}" disabled>
						<label class="form-check-label" for="flexCheckDefault">
							Leído
						</label>
					</div>
				</div>
			</div>
		</div>
	</section>


	<footer class="mt-2">
		<footer
			class="d-flex flex-wrap justify-content-between align-items-center py-3 bg-primary text-warning border-0">
			<div class="col-md-4 d-flex align-items-center">
				<a href="/" class="mb-3 me-2 mb-md-0 text-decoration-none lh-1">
					<img src="/imagenes/logo.png" style="margin-left: 20px;" class="bi" width="24" alt="Logo">
				</a>
				<span class="mb-3 mb-md-0">&copy; 2024 Asturutas</span>
			</div>
		</footer>
	</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>